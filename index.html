<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reflex Hands Games (Beta)</title>
  <link rel="stylesheet" href="css/base.css" />
  <link rel="stylesheet" href="css/home.css" />
  <link rel="stylesheet" href="css/basic-mode.css" />
  <link rel="stylesheet" href="css/time-attack.css" />
  <link rel="stylesheet" href="css/popups.css" />
  <link rel="stylesheet" href="css/versus-mode.css" />
  <link rel="stylesheet" href="css/profile.css" />
</head>

<body>

  <!-- FLASH OVERLAY -->
  <div id="flashOverlay"></div>

  <!-- PARTICLE BURST CANVAS -->
  <canvas id="particleCanvas"></canvas>

  <!-- COUNTDOWN OVERLAY 3..2..1..GO! -->
  <div id="countdownOverlay">
    <div id="countdownText" class="countdown-num">3</div>
  </div>

  <!-- AUDIO -->
  <audio id="clickSound" src="assets/audio/click.mp3" preload="auto"></audio>
  <audio id="soundGreen" src="assets/audio/benar.mp3" preload="auto"></audio>
  <audio id="soundRed" src="assets/audio/salah.mp3" preload="auto"></audio>
  <audio id="soundBonus" src="assets/audio/bonus-points.mp3" preload="auto"></audio>
  <audio id="soundFreeze" src="assets/audio/freeze.mp3" preload="auto"></audio>
  <audio id="countdownSound" src="assets/audio/countdown.mp3" preload="auto"></audio>

  <!-- HOME -->
  <div id="home" class="screen active">
    <div class="container">
      <div class="menu">
        <button class="btn play-btn shiny-button" id="homePlayBtn">PLAY</button>
        <button class="btn other-btn shiny-button" id="homeOtherBtn">OTHER GAMES</button>
        <button class="btn donate-btn shiny-button" id="homeDonateBtn">DONATE</button>
      </div>
      <div class="title">
        <h1>REFLEX HANDS GAMES (BETA)</h1>
        <img src="assets/picture/logo.png" alt="Logo" />
      </div>
    </div>
  </div>

  <!-- PROFILE SCREEN -->
  <div id="profileScreen" class="screen"></div>

  <!-- LOBBY -->
  <div id="lobby" class="screen">
    <button class="profile-btn" id="profileBtn">Profile</button>
    <h1>SELECT MODE!</h1>
    <div class="mode-container">
      <div class="mode">
        <img src="assets/picture/basic-mode.jpg" alt="Basic Mode" />
        <h3>Basic Mode</h3>
        <button class="btn play-btn shiny-button" id="playBasicBtn">PLAY</button>
      </div>
      <div class="mode">
        <img src="assets/picture/time-mode.jpg" alt="Time Attack" />
        <h3>Time Attack Mode</h3>
        <button class="btn play-btn shiny-button" id="playTimeAttackBtn">PLAY</button>
      </div>
      <div class="mode">
        <img src="assets/picture/versus-mode.jpg" alt="Versus Mode" onerror="this.style.background='#2a1a4a';this.removeAttribute('onerror')" />
        <h3>Versus Mode</h3>
        <button class="btn play-btn shiny-button" id="playVersusBtn">PLAY</button>
      </div>
    </div>
    <button class="btn back-btn shiny-button" id="lobbyBackBtn">Back To Main Menu</button>
  </div>

  <!-- BASIC MODE -->
  <div id="basicGame" class="screen" style="max-width: 500px;">
    <div id="comboContainer">
      <span class="combo-label">COMBO</span>
      <span id="combo">x0</span>
    </div>
    <h1>Basic Mode</h1>
    <p>Skor: <span id="score">0</span></p>
    <div id="gameArea">
      <button id="greenBtn" class="btn game-btn">Klik! <span class="countdown" id="cdGreen"></span></button>
      <button id="redBtn" class="btn game-btn">Jangan Klik! <span class="countdown" id="cdRed"></span></button>
      <button id="bonusBtn" class="btn game-btn">Bonus! <span class="countdown" id="cdBonus"></span></button>
      <button id="holdBtn" class="btn game-btn">Hold <span class="countdown" id="cdHold"></span></button>
    </div>
    <button class="btn back-btn shiny-button" id="exitBasicBtn">Back To Main Menu</button>
  </div>

  <!-- TIME ATTACK -->
  <div id="timeAttackGame" class="screen" style="max-width: 500px;">
    <div id="taComboContainer">
      <span class="combo-label">COMBO</span>
      <span id="taCombo">x0</span>
    </div>
    <h1>Time Attack Mode</h1>
    <p>Skor: <span id="taScore">0</span></p>
    <div id="timerBarWrapper">
      <div id="timerBarFill"></div>
      <span id="timerLabel">0:00</span>
    </div>
    <div id="taGameArea">
      <button id="taGreenBtn" class="btn game-btn">Klik! <span class="countdown" id="taCdGreen"></span></button>
      <button id="taRedBtn" class="btn game-btn">Jangan Klik! <span class="countdown" id="taCdRed"></span></button>
      <button id="taBonusBtn" class="btn game-btn">Bonus! <span class="countdown" id="taCdBonus"></span></button>
      <button id="taHoldBtn" class="btn game-btn">Hold <span class="countdown" id="taCdHold"></span></button>
      <button id="taFreezeBtn" class="btn game-btn freeze-btn shiny-button">
        Freeze! <span id="freezeCooldownLabel"></span>
      </button>
    </div>
    <button class="btn back-btn shiny-button" id="exitTimeAttackBtn">Back To Main Menu</button>
  </div>

  <!-- POPUP: SELECT DIFFICULTY -->
  <div id="difficultyPopup" class="popup-overlay">
    <div class="popup-box diff-popup-box">
      <h2>Select Difficulty</h2>
      <p>Seberapa cepat refleksmu?</p>
      <div class="diff-options">
        <button class="diff-btn diff-normal shiny-button" id="diffNormal">
          <div class="diff-icon">ðŸŸ¢</div>
          <div class="diff-label">Normal</div>
          <div class="diff-desc">Tempo standar â€” cocok untuk pemula</div>
        </button>
        <button class="diff-btn diff-medium shiny-button" id="diffMedium">
          <div class="diff-icon">ðŸŸ¡</div>
          <div class="diff-label">Medium</div>
          <div class="diff-desc">Tombol bertahan 3 detik â€” lebih cepat!</div>
        </button>
        <button class="diff-btn diff-hard shiny-button" id="diffHard">
          <div class="diff-icon">ðŸ”´</div>
          <div class="diff-label">Hard</div>
          <div class="diff-desc">Tombol bertahan 1.5 detik â€” reflek ekstrem!</div>
        </button>
      </div>
      <button class="btn back-btn shiny-button" id="diffCancelBtn">Batal</button>
    </div>
  </div>

  <!-- POPUP: PILIH DURASI (Time Attack) -->
  <div id="durationPopup" class="popup-overlay">
    <div class="popup-box">
      <h2>Pilih Durasi</h2>
      <p>Berapa lama kamu mau bertahan?</p>
      <div class="duration-options">
        <button class="dur-btn shiny-button" id="dur1">1 Menit</button>
        <button class="dur-btn shiny-button" id="dur3">3 Menit</button>
        <button class="dur-btn shiny-button" id="dur5">5 Menit</button>
        <button class="dur-btn shiny-button" id="dur7">7 Menit</button>
        <button class="dur-btn shiny-button" id="dur10">10 Menit</button>
      </div>
      <button class="btn back-btn shiny-button" id="durCancelBtn">Batal</button>
    </div>
  </div>

  <!-- POPUP: QUIT CONFIRM -->
  <div id="quitConfirmPopup" class="popup-overlay">
    <div class="popup-box">
      <div class="quit-icon">&#9888;&#65039;</div>
      <h2>Akhiri Permainan?</h2>
      <p>Progres kamu akan hilang.<br>Yakin ingin berhenti?</p>
      <div class="quit-buttons">
        <button class="btn quit-yes-btn shiny-button" id="quitYesBtn">Ya, Akhiri</button>
        <button class="btn quit-no-btn shiny-button" id="quitNoBtn">Tidak</button>
      </div>
    </div>
  </div>

  <!-- POPUP: HASIL BASIC MODE -->
  <div id="basicResultPopup" class="popup-overlay">
    <div class="popup-box">
      <h2>Akhir Permainan</h2>
      <p>Skor Akhir kamu:</p>
      <div id="basicFinalScore" class="final-score">0</div>
      <div id="basicFinalCombo" class="final-combo"></div>
      <button class="btn play-btn shiny-button" id="basicPlayAgainBtn">Main Lagi</button>
      <button class="btn back-btn shiny-button" id="basicGoHomeBtn">Kembali ke Menu</button>
    </div>
  </div>

  <!-- POPUP: GAME OVER TIME ATTACK -->
  <div id="gameOverPopup" class="popup-overlay">
    <div class="popup-box">
      <h2>Waktu Habis!</h2>
      <p>Skor Akhir kamu:</p>
      <div id="finalScore" class="final-score">0</div>
      <div id="finalCombo" class="final-combo"></div>
      <button class="btn play-btn shiny-button" id="taPlayAgainBtn">Main Lagi</button>
      <button class="btn back-btn shiny-button" id="taGoHomeBtn">Kembali ke Menu</button>
    </div>
  </div>

  <!-- VERSUS MODE -->
  <div id="versusGame" class="screen">
    <h1>Versus Mode</h1>

    <div id="vsTimerBarWrapper">
      <div id="vsTimerBarFill"></div>
      <span id="vsTimerLabel">0:00</span>
    </div>

    <div class="vs-arena">
      <!-- PLAYER 1 SIDE -->
      <div class="vs-side" id="vsP1Side">
        <div class="vs-player-header">
          <div class="vs-player-name">Player 1</div>
          <div class="vs-score" id="vsP1Score">0</div>
          <div class="vs-key-hint">Tekan [A] untuk klik</div>
          <div class="vs-frozen-label" id="vsFrozenLabel1"></div>
        </div>
        <div class="vs-combo-box" id="vsComboBox1">
          <span class="combo-label">COMBO</span>
          <span id="vsCombo1">x0</span>
        </div>
        <button class="vs-click-btn shiny-button" id="vsP1ClickBtn">KLIK!</button>
      </div>

      <!-- DIVIDER + TOMBOL TENGAH -->
      <div style="position:relative; display:flex; flex-direction:column; align-items:center; justify-content:center; min-width:200px;">
        <div class="vs-divider" style="width:4px; height:100%; position:absolute;"></div>
        <div class="vs-game-center">
          <button id="vsGreenBtn" class="btn game-btn">
            Klik!
            <div class="vs-cd-row">
              <span class="vs-countdown" id="vsCd1"></span>
              <span class="vs-countdown" id="vsCd2"></span>
            </div>
          </button>
          <button id="vsRedBtn" class="btn game-btn">
            Jangan Klik!
            <div class="vs-cd-row">
              <span class="vs-countdown"></span>
              <span class="vs-countdown"></span>
            </div>
          </button>
          <button id="vsBonusBtn" class="btn game-btn">
            Bonus x3!
            <div class="vs-cd-row">
              <span class="vs-countdown"></span>
              <span class="vs-countdown"></span>
            </div>
          </button>
          <button id="vsFreezeBtn" class="btn game-btn">
            Freeze!
            <div class="vs-cd-row">
              <span class="vs-countdown"></span>
              <span class="vs-countdown"></span>
            </div>
          </button>
          <button id="vsHoldBtn" class="btn game-btn">
            Hold
            <div class="vs-cd-row">
              <span class="vs-countdown" id="vsCdHold1"></span>
              <span class="vs-countdown" id="vsCdHold2"></span>
            </div>
          </button>
        </div>
      </div>

      <!-- PLAYER 2 SIDE -->
      <div class="vs-side" id="vsP2Side">
        <div class="vs-player-header">
          <div class="vs-player-name">Player 2</div>
          <div class="vs-score" id="vsP2Score">0</div>
          <div class="vs-key-hint">Tekan [L] untuk klik</div>
          <div class="vs-frozen-label" id="vsFrozenLabel2"></div>
        </div>
        <div class="vs-combo-box" id="vsComboBox2">
          <span class="combo-label">COMBO</span>
          <span id="vsCombo2">x0</span>
        </div>
        <button class="vs-click-btn shiny-button" id="vsP2ClickBtn">KLIK!</button>
      </div>
    </div>

    <button class="btn back-btn shiny-button" id="exitVersusBtn">Back To Main Menu</button>
  </div>

  <!-- POPUP: PILIH DURASI VERSUS -->
  <div id="vsDurationPopup" class="popup-overlay">
    <div class="popup-box">
      <h2>Pilih Durasi</h2>
      <p>Berapa lama pertandingan berlangsung?</p>
      <div class="duration-options">
        <button class="dur-btn shiny-button" id="vsDur1">1 Menit</button>
        <button class="dur-btn shiny-button" id="vsDur3">3 Menit</button>
        <button class="dur-btn shiny-button" id="vsDur5">5 Menit</button>
        <button class="dur-btn shiny-button" id="vsDur7">7 Menit</button>
        <button class="dur-btn shiny-button" id="vsDur10">10 Menit</button>
      </div>
      <button class="btn back-btn shiny-button" id="vsDurCancelBtn">Batal</button>
    </div>
  </div>

  <!-- NOTIF TUTORIAL VERSUS -->
  <div id="vsTutorialNotif" class="vs-tutorial-notif">
    <div class="vs-tutorial-icon">&#127918;</div>
    <div class="vs-tutorial-content">
      <div class="vs-tutorial-title">Siap Bertanding!</div>
      <div class="vs-tutorial-msg" id="vsTutorialMsg"></div>
    </div>
  </div>

  <!-- POPUP: HASIL VERSUS -->
  <div id="vsResultPopup" class="popup-overlay">
    <div class="popup-box">
      <h2>Hasil Pertandingan</h2>
      <div class="vs-result-winner" id="vsWinnerText"></div>
      <div class="vs-result-scores" id="vsResultP1"></div>
      <div class="vs-result-scores" id="vsResultP2"></div>
      <button class="btn play-btn shiny-button" id="vsPlayAgainBtn">Main Lagi</button>
      <button class="btn back-btn shiny-button" id="vsGoHomeBtn">Kembali ke Menu</button>
    </div>
  </div>

  <footer>Â© 2025 by <strong>Rakha FR</strong> â€” Reflex Hands Games</footer>

  <script src="js/profile.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/basic-mode.js"></script>
  <script src="js/time-attack.js"></script>
  <script src="js/popups.js"></script>
  <script>
    document.getElementById("homePlayBtn").addEventListener("click", () => { playSound(); goToLobby(); });
    document.getElementById("homeOtherBtn").addEventListener("click", () => { playSound(); });
    document.getElementById("homeDonateBtn").addEventListener("click", () => { playSound(); });
    document.getElementById("profileBtn").addEventListener("click", () => { openProfile(); });
    document.getElementById("lobbyBackBtn").addEventListener("click", () => { playSound(); goToHome(); });
    document.getElementById("taFreezeBtn").addEventListener("click", () => { activateFreeze(); });

    // Difficulty popup
    document.getElementById("diffCancelBtn").addEventListener("click", () => { playSound(); closeDifficultyPopup(); });
    document.getElementById("diffNormal").addEventListener("click", () => { selectDifficulty("normal"); });
    document.getElementById("diffMedium").addEventListener("click", () => { selectDifficulty("medium"); });
    document.getElementById("diffHard").addEventListener("click", () => { selectDifficulty("hard"); });

    // Duration (Time Attack)
    document.getElementById("durCancelBtn").addEventListener("click", () => { playSound(); closeDurationPopup(); });
    document.getElementById("dur1").addEventListener("click", () => { startTimeAttack(1); });
    document.getElementById("dur3").addEventListener("click", () => { startTimeAttack(3); });
    document.getElementById("dur5").addEventListener("click", () => { startTimeAttack(5); });
    document.getElementById("dur7").addEventListener("click", () => { startTimeAttack(7); });
    document.getElementById("dur10").addEventListener("click", () => { startTimeAttack(10); });

    // Duration (Versus)
    document.getElementById("vsDurCancelBtn").addEventListener("click", () => { playSound(); closeVsDurationPopup(); });
    document.getElementById("vsDur1").addEventListener("click", () => { startVersusMode(1); });
    document.getElementById("vsDur3").addEventListener("click", () => { startVersusMode(3); });
    document.getElementById("vsDur5").addEventListener("click", () => { startVersusMode(5); });
    document.getElementById("vsDur7").addEventListener("click", () => { startVersusMode(7); });
    document.getElementById("vsDur10").addEventListener("click", () => { startVersusMode(10); });
  </script>
  <script src="js/versus-mode.js"></script>
</body>

</html>